<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calend√°rio RH - LearnWords</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="main-title">
                <svg width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
                Calend√°rio RH
            </h1>
            <div class="theme-switcher-container">
                <label class="theme-switcher" for="theme-toggle" aria-label="Alternar tema">
                    <input type="checkbox" id="theme-toggle" />
                    <span class="slider"></span>
                </label>
            </div>
            <p>Eventos e compromissos da equipe</p>
        </div>

        <!-- Se√ß√£o de Eventos de Hoje -->
        <div class="today-events-section hidden" id="todayEventsSection">
            <h2 class="today-events-title" id="dynamicEventsTitle">Eventos de Hoje</h2>
            <div class="today-events-grid" id="todayEventsGrid">
                <!-- Eventos ser√£o inseridos aqui -->
            </div>
        </div>

        <div class="main-content">
            <div class="calendar-container">
                <div class="calendar-header">
                    <button class="nav-btn" onclick="navigateMonth('prev')" aria-label="M√™s anterior">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg>
                    </button>
                    <h2 class="month-title" id="monthTitle"></h2>
                    <button class="nav-btn" onclick="navigateMonth('next')" aria-label="Pr√≥ximo m√™s">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"/></svg>
                    </button>
                </div>

                <div class="calendar-controls">
                    <button class="add-event-btn" onclick="openModal()">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                        Novo Evento
                    </button>
                    <input type="text" class="search-input" id="searchInput" placeholder="Buscar eventos..." onkeyup="filterEvents()">
                    <select class="filter-select" id="categoryFilter" onchange="filterEvents()">
                        <option value="">Todas as categorias</option>
                        <option value="evento">Evento</option>
                        <option value="aniversario">Anivers√°rio</option>
                        <option value="evento-interno">Evento Interno</option>
                        <option value="data-comemorativa">Data Comemorativa</option>
                        <option value="reuniao">Reuni√£o</option>
                    </select>
                </div>

                <div class="calendar-grid" id="calendarGrid">
                    <!-- Cabe√ßalho dos dias da semana -->
                    <div class="weekday">Dom</div>
                    <div class="weekday">Seg</div>
                    <div class="weekday">Ter</div>
                    <div class="weekday">Qua</div>
                    <div class="weekday">Qui</div>
                    <div class="weekday">Sex</div>
                    <div class="weekday">S√°b</div>
                    <!-- Dias ser√£o inseridos aqui -->
                </div>
            </div>

            <div class="sidebar">
                <div class="sidebar-header">
                    <h3 class="sidebar-title">Pr√≥ximos Eventos</h3>
                    <p class="sidebar-subtitle">Organizados por categoria</p>
                </div>

                <div class="sidebar-content">
                    <div class="events-section">
                        <div id="upcomingEventsList">
                            <p style="text-align: center; color: #9ca3af; padding: 20px;">Nenhum evento pr√≥ximo</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal-overlay hidden" id="modalOverlay">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle">Novo Evento</h3>
                <button class="close-btn" onclick="closeModal()" aria-label="Fechar modal">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                </button>
            </div>
            
            <!-- NOVO: Container para o modo de visualiza√ß√£o -->
            <div class="modal-view-content" id="modalViewContent" style="display: none;">
                <!-- Conte√∫do din√¢mico ser√° injetado aqui pelo JS -->
            </div>

            <!-- Formul√°rio para modo de edi√ß√£o -->
            <form class="modal-form" id="modalForm" onsubmit="handleSubmit(event)">
                <div class="form-group">
                    <label class="form-label">T√≠tulo do Evento *</label>
                    <input type="text" class="form-input" id="eventTitle" placeholder="Ex: Reuni√£o de equipe" required>
                </div>

                <div class="form-group">
                    <label class="form-label">Data *</label>
                    <input type="date" class="form-input" id="eventDate" required>
                </div>

                <div class="form-group">
                    <label class="form-label">Hor√°rio</label>
                    <input type="time" class="form-input" id="eventTime">
                </div>

                <div class="form-group">
                    <label class="form-label">Categoria *</label>
                    <select class="form-select" id="eventCategory" required>
                        <option value="">Selecione uma categoria</option>
                        <option value="evento">üéâ Evento</option>
                        <option value="aniversario">üéÇ Anivers√°rio</option>
                        <option value="evento-interno">üè¢ Evento Interno</option>
                        <option value="data-comemorativa">üéä Data Comemorativa</option>
                        <option value="reuniao">üë• Reuni√£o</option>
                    </select>
                </div>

                <div class="form-group full-width">
                    <label class="form-label">Cor do Evento</label>
                    <div class="color-picker-group">
                        <div class="color-option" data-color="#1410f0" style="background: linear-gradient(135deg, #1410f0 0%, #0f0bb8 100%);" onclick="selectColor('#1410f0')"></div>
                        <div class="color-option" data-color="#10b981" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);" onclick="selectColor('#10b981')"></div>
                        <div class="color-option" data-color="#ef4444" style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);" onclick="selectColor('#ef4444')"></div>
                        <div class="color-option" data-color="#f59e0b" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);" onclick="selectColor('#f59e0b')"></div>
                        <div class="color-option" data-color="#8b5cf6" style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);" onclick="selectColor('#8b5cf6')"></div>
                        <div class="color-option" data-color="#06b6d4" style="background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);" onclick="selectColor('#06b6d4')"></div>
                        <div class="color-option" data-color="#84cc16" style="background: linear-gradient(135deg, #84cc16 0%, #65a30d 100%);" onclick="selectColor('#84cc16')"></div>
                        <div class="color-option" data-color="#f97316" style="background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);" onclick="selectColor('#f97316')"></div>
                        <div class="color-option" data-color="#ec4899" style="background: linear-gradient(135deg, #ec4899 0%, #db2777 100%);" onclick="selectColor('#ec4899')"></div>
                        <div class="color-option" data-color="#6366f1" style="background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);" onclick="selectColor('#6366f1')"></div>
                        <div class="color-option" data-color="#14b8a6" style="background: linear-gradient(135deg, #14b8a6 0%, #0d9488 100%);" onclick="selectColor('#14b8a6')"></div>
                        <div class="color-option" data-color="#000000" style="background: linear-gradient(135deg, #000000 0%, #374151 100%);" onclick="selectColor('#000000')"></div>
                    </div>
                </div>

                <div class="form-group full-width">
                    <label class="form-label">Descri√ß√£o</label>
                    <textarea class="form-textarea" id="eventDescription" placeholder="Adicione detalhes sobre o evento..."></textarea>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal()">Cancelar</button>
                    <button type="button" class="btn btn-danger" id="deleteBtn" onclick="openDeleteConfirmModal()" style="display: none;">Excluir</button>
                    <button type="submit" class="btn btn-primary" id="submitBtn">Criar Evento</button>
                </div>
            </form>
        </div>
    </div>

    <!-- NOVO: Modal de Confirma√ß√£o de Exclus√£o -->
    <div class="modal-overlay hidden" id="confirmDeleteModalOverlay">
        <div class="modal" style="max-width: 500px; margin-top: 20vh;">
            <div class="modal-header">
                <h3 class="modal-title">Confirmar Exclus√£o</h3>
            </div>
            <div class="modal-view-content">
                <p style="font-size: 2.0rem; text-align: center;">Tem certeza que deseja excluir este evento? Esta a√ß√£o n√£o pode ser desfeita.</p>
                <div class="view-actions" style="justify-content: center;">
                    <button type="button" class="btn btn-secondary" id="cancelDeleteBtn">Cancelar</button>
                    <button type="button" class="btn btn-danger" id="confirmDeleteBtn">Excluir</button>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="script.js"></script>
</body>
</html>